{"ast":null,"code":"const nodemailer = require(\"nodemailer\");\nconst transporter = nodemailer.createTransport({\n  host: \"smtp.gmail.com\",\n  // ou smtp.gmail.com pour Gmail\n  port: 465,\n  secure: true,\n  auth: {\n    user: process.env.MAIL_USER,\n    pass: process.env.MAIL_PASSWORD\n  }\n});\n\n/**\n * Fonction générique pour envoyer un email\n * @param {Object} options\n * @param {string} options.to - Destinataire principal\n * @param {string} [options.bcc] - Copie cachée\n * @param {string} options.subject - Sujet du mail\n * @param {string} options.html - Contenu HTML\n * @param {string} options.attachments - Contenu HTML\n */\n\nasync function sendMail({\n  to,\n  bcc,\n  subject,\n  html,\n  attachments\n}) {\n  try {\n    await transporter.sendMail({\n      from: process.env.MAIL_USER,\n      to,\n      bcc,\n      subject,\n      html,\n      attachments: []\n    });\n    console.log(`Mail envoyé à ${to}`);\n  } catch (err) {\n    console.error(\"Erreur envoi mail :\", err);\n    throw err;\n  }\n}\nmodule.exports = {\n  sendMail\n};","map":{"version":3,"names":["nodemailer","require","transporter","createTransport","host","port","secure","auth","user","process","env","MAIL_USER","pass","MAIL_PASSWORD","sendMail","to","bcc","subject","html","attachments","from","console","log","err","error","module","exports"],"sources":["/Users/aboubacargoita/Documents/Adiram/src/util/mailer.js"],"sourcesContent":["const nodemailer = require(\"nodemailer\");\n\nconst transporter = nodemailer.createTransport({\n    host: \"smtp.gmail.com\",   // ou smtp.gmail.com pour Gmail\n    port: 465,\n    secure: true,\n    auth: {\n        user: process.env.MAIL_USER,\n        pass: process.env.MAIL_PASSWORD,\n    },\n});\n\n/**\n * Fonction générique pour envoyer un email\n * @param {Object} options\n * @param {string} options.to - Destinataire principal\n * @param {string} [options.bcc] - Copie cachée\n * @param {string} options.subject - Sujet du mail\n * @param {string} options.html - Contenu HTML\n * @param {string} options.attachments - Contenu HTML\n */\n\nasync function sendMail({ to, bcc, subject, html, attachments }) {\n    try {\n        await transporter.sendMail({\n            from: process.env.MAIL_USER,\n            to,\n            bcc,\n            subject,\n            html,\n            attachments: [],\n        });\n        console.log(`Mail envoyé à ${to}`);\n    } catch (err) {\n        console.error(\"Erreur envoi mail :\", err);\n        throw err;\n    }\n}\n\nmodule.exports = { sendMail };"],"mappings":"AAAA,MAAMA,UAAU,GAAGC,OAAO,CAAC,YAAY,CAAC;AAExC,MAAMC,WAAW,GAAGF,UAAU,CAACG,eAAe,CAAC;EAC3CC,IAAI,EAAE,gBAAgB;EAAI;EAC1BC,IAAI,EAAE,GAAG;EACTC,MAAM,EAAE,IAAI;EACZC,IAAI,EAAE;IACFC,IAAI,EAAEC,OAAO,CAACC,GAAG,CAACC,SAAS;IAC3BC,IAAI,EAAEH,OAAO,CAACC,GAAG,CAACG;EACtB;AACJ,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAeC,QAAQA,CAAC;EAAEC,EAAE;EAAEC,GAAG;EAAEC,OAAO;EAAEC,IAAI;EAAEC;AAAY,CAAC,EAAE;EAC7D,IAAI;IACA,MAAMjB,WAAW,CAACY,QAAQ,CAAC;MACvBM,IAAI,EAAEX,OAAO,CAACC,GAAG,CAACC,SAAS;MAC3BI,EAAE;MACFC,GAAG;MACHC,OAAO;MACPC,IAAI;MACJC,WAAW,EAAE;IACjB,CAAC,CAAC;IACFE,OAAO,CAACC,GAAG,CAAC,iBAAiBP,EAAE,EAAE,CAAC;EACtC,CAAC,CAAC,OAAOQ,GAAG,EAAE;IACVF,OAAO,CAACG,KAAK,CAAC,qBAAqB,EAAED,GAAG,CAAC;IACzC,MAAMA,GAAG;EACb;AACJ;AAEAE,MAAM,CAACC,OAAO,GAAG;EAAEZ;AAAS,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}